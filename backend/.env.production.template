# ============================================================================
# Production Environment Variables Template
# Enterprise Accounting SaaS - Backend
# ============================================================================
# IMPORTANT:
# 1. Copy this file to .env.production
# 2. Replace all placeholder values with actual production values
# 3. NEVER commit .env.production to version control
# 4. Keep this file secure and share only with authorized personnel
# ============================================================================

# ============================================================================
# Application Configuration
# ============================================================================

# Application Name
APP_NAME="Accounting SaaS"
APP_ENV="production"
APP_URL="https://api.yourdomain.com"
FRONTEND_URL="https://yourdomain.com"

# Port Configuration
PORT=3001
NODE_ENV="production"

# API Version
API_VERSION="v1"

# ============================================================================
# Database Configuration (Supabase/PostgreSQL)
# ============================================================================

# Supabase Configuration
SUPABASE_URL="https://your-project-id.supabase.co"
SUPABASE_ANON_KEY="your-supabase-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# Database Connection (if using direct PostgreSQL connection)
DB_HOST="db.your-project-id.supabase.co"
DB_PORT=5432
DB_NAME="postgres"
DB_USER="postgres"
DB_PASSWORD="your-database-password"

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================================================
# JWT & Authentication
# ============================================================================

# JWT Secret (IMPORTANT: Generate a secure random string!)
# Generate with: openssl rand -base64 64
JWT_SECRET="your-super-secure-jwt-secret-key-minimum-64-characters-long"
JWT_EXPIRATION="7d"

# Supabase Auth
SUPABASE_JWT_SECRET="your-supabase-jwt-secret"
SUPABASE_JWT_ALGORITHM="HS256"

# ============================================================================
# Email Configuration
# ============================================================================

# Email Provider: smtp | sendgrid | mailgun | supabase
EMAIL_PROVIDER="smtp"

# SMTP Configuration (if using SMTP)
SMTP_HOST="smtp.your-provider.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="your-smtp-username"
SMTP_PASSWORD="your-smtp-password"
EMAIL_FROM_ADDRESS="noreply@yourdomain.com"
EMAIL_FROM_NAME="Accounting SaaS"
EMAIL_REPLY_TO="support@yourdomain.com"

# SendGrid Configuration (if using SendGrid)
SENDGRID_API_KEY="SG.your-sendgrid-api-key"
SENDGRID_FROM_EMAIL="noreply@yourdomain.com"
SENDGRID_FROM_NAME="Accounting SaaS"

# Mailgun Configuration (if using Mailgun)
MAILGUN_API_KEY="your-mailgun-api-key"
MAILGUN_DOMAIN="mg.yourdomain.com"
MAILGUN_FROM_EMAIL="noreply@yourdomain.com"
MAILGUN_FROM_NAME="Accounting SaaS"

# ============================================================================
# File Storage Configuration (Supabase Storage)
# ============================================================================

# Supabase Storage URL
SUPABASE_STORAGE_URL="https://your-project-id.supabase.co/storage/v1"

# Storage Buckets
STORAGE_AVATARS_BUCKET="avatars"
STORAGE_DOCUMENTS_BUCKET="documents"
STORAGE_INVOICES_BUCKET="invoices"

# Maximum File Sizes (in bytes)
MAX_AVATAR_SIZE=5242880  # 5MB
MAX_DOCUMENT_SIZE=10485760  # 10MB
MAX_INVOICE_SIZE=10485760  # 10MB

# ============================================================================
# Security Configuration
# ============================================================================

# Rate Limiting
# Global rate limit (requests per window)
RATE_LIMIT_TTL=60000  # 60 seconds
RATE_LIMIT_LIMIT=100  # 100 requests per minute

# Throttler Configuration
THROTTLER_TTL=60
THROTTLER_LIMIT=100

# CORS Configuration
CORS_ENABLED=true
CORS_ORIGIN="https://yourdomain.com,https://www.yourdomain.com"
CORS_CREDENTIALS=true

# Helmet Security Headers
HELMET_ENABLED=true
HELMET_CSP_ENABLED=false

# Request Size Limits
MAX_FILE_SIZE=10485760  # 10MB
BODY_LIMIT=10mb

# ============================================================================
# Logging & Monitoring
# ============================================================================

# Log Level: error | warn | info | debug
LOG_LEVEL="info"

# Log Format: json | simple
LOG_FORMAT="json"

# Log Directory
LOG_DIR="./logs"

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Enable performance monitoring
ENABLE_PERFORMANCE_MONITORING=true

# ============================================================================
# Audit Logging
# ============================================================================

# Enable audit logging
AUDIT_LOGGING_ENABLED=true

# Audit log batch size
AUDIT_BATCH_SIZE=50

# Audit log batch interval (milliseconds)
AUDIT_BATCH_INTERVAL=5000

# Audit log retention days
AUDIT_RETENTION_DAYS=90

# ============================================================================
# Redis Configuration (Optional - for Bull Queue)
# ============================================================================

# Redis Configuration (if using Redis for queues)
REDIS_HOST="localhost"
REDIS_PORT=6379
REDIS_PASSWORD=""
REDIS_DB=0

# Alternatively, Redis URL
REDIS_URL="redis://localhost:6379"

# ============================================================================
# Queue Configuration (Email Queue)
# ============================================================================

# Bull Queue Configuration
QUEUE_REDIS_HOST="localhost"
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_PASSWORD=""

# Queue Concurrency
EMAIL_QUEUE_CONCURRENCY=5

# Queue Retry Attempts
EMAIL_QUEUE_RETRY_ATTEMPTS=3
EMAIL_QUEUE_RETRY_DELAY=5000

# ============================================================================
# PDF Generation Configuration
# ============================================================================

# PDF Generation
PDF_ENABLED=true
PDF_TEMP_DIR="./tmp/pdf"
PDF_FONT_DIR="./fonts"

# ============================================================================
# Feature Flags
# ============================================================================

# Enable/disable features
FEATURE_USER_MANAGEMENT=true
FEATURE_AUDIT_LOGGING=true
FEATURE_DATA_EXPORT=true
FEATURE_PDF_GENERATION=true
FEATURE_EMAIL_SYSTEM=true

# Multi-tenancy
MULTI_TENANCY_ENABLED=true

# ============================================================================
# Localization & Timezone
# ============================================================================

# Default Language
DEFAULT_LANGUAGE="en"

# Supported Languages
SUPPORTED_LANGUAGES="en,ar"

# Default Timezone
DEFAULT_TIMEZONE="Asia/Qatar"

# Date Format
DATE_FORMAT="DD/MM/YYYY"

# Currency
DEFAULT_CURRENCY="QAR"

# ============================================================================
# Payment & Tax Configuration
# ============================================================================

# Default VAT Rate (%)
DEFAULT_VAT_RATE=5

# Payment Terms (days)
DEFAULT_PAYMENT_TERMS=30

# Credit Limit
DEFAULT_CREDIT_LIMIT=0

# ============================================================================
# Company Information (for PDFs, invoices, etc.)
# ============================================================================

# Company Name
COMPANY_NAME_EN="Your Company Name"
COMPANY_NAME_AR="اسم شركتك"

# Company Address
COMPANY_ADDRESS_EN="123 Business Street, Doha, Qatar"
COMPANY_ADDRESS_AR="١٢٣ شارع الأعمال، الدوحة، قطر"

# Company Contact
COMPANY_PHONE="+974 4444 4444"
COMPANY_EMAIL="info@yourdomain.com"
COMPANY_WEBSITE="https://yourdomain.com"

# Company Registration
COMPANY_REGISTRATION_NUMBER="123456"
COMPANY_VAT_NUMBER="QA12345678901"

# ============================================================================
# External Services (Optional)
# ============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=""
SENTRY_ENVIRONMENT="production"
SENTRY_TRACES_SAMPLE_RATE=0.1

# Google Analytics (if needed)
GOOGLE_ANALYTICS_ID=""

# ============================================================================
# Third-Party API Keys (Optional)
# ============================================================================

# Add any third-party API keys here
# EXAMPLE_API_KEY="your-api-key"

# ============================================================================
# Development/Debug (NOT FOR PRODUCTION)
# ============================================================================

# Enable debug mode (DO NOT ENABLE IN PRODUCTION)
DEBUG=false

# Enable Swagger API documentation (can be disabled in production)
SWAGGER_ENABLED=false
SWAGGER_PATH="api/docs"

# ============================================================================
# Backup & Maintenance
# ============================================================================

# Automated Backup (if applicable)
AUTO_BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30

# Maintenance Mode
MAINTENANCE_MODE=false

# ============================================================================
# SSL & HTTPS
# ============================================================================

# Force HTTPS (set to true in production)
FORCE_HTTPS=true

# SSL Certificate Path (if using custom certificates)
SSL_KEY_PATH=""
SSL_CERT_PATH=""

# ============================================================================
# Worker Configuration
# ============================================================================

# Number of worker processes (0 = auto, based on CPU cores)
WORKERS=0

# Cluster Mode
CLUSTER_MODE=false

# ============================================================================
# Session Configuration (if using sessions)
# ============================================================================

SESSION_SECRET="your-session-secret"
SESSION_MAX_AGE=86400000  # 24 hours

# ============================================================================
# Webhook Configuration (Optional)
# ============================================================================

# Webhook Secret (for verifying webhook signatures)
WEBHOOK_SECRET="your-webhook-secret"
WEBHOOK_ENDPOINT="/api/webhooks"

# ============================================================================
# Compliance & Legal
# ============================================================================

# GDPR Compliance
GDPR_ENABLED=true
GDPR_DELETE_AFTER_DAYS=365

# Data Retention
DATA_RETENTION_DAYS=2555  # 7 years

# ============================================================================
# Performance Tuning
# ============================================================================

# Query Timeout (milliseconds)
QUERY_TIMEOUT=30000

# Request Timeout (milliseconds)
REQUEST_TIMEOUT=120000

# Cache TTL (seconds)
CACHE_TTL=3600

# ============================================================================
# Monitoring & Alerts
# ============================================================================

# Health Check Interval (seconds)
HEALTH_CHECK_INTERVAL=60

# Alert Email (for critical errors)
ALERT_EMAIL="devops@yourdomain.com"

# ============================================================================
# END OF TEMPLATE
# ============================================================================

# IMPORTANT REMINDERS:
# 1. After copying this file to .env.production, replace ALL placeholder values
# 2. Generate secure random strings for JWT_SECRET, SESSION_SECRET, WEBHOOK_SECRET
# 3. Set up proper database backups
# 4. Configure SSL certificates
# 5. Test all email and SMS services
# 6. Verify all third-party integrations
# 7. Set up monitoring and alerting
# 8. Review and adjust rate limits
# 9. Configure CORS origins properly
# 10. Enable/disable feature flags as needed
